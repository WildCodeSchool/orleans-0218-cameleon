{% extends '/admin/body.html.twig' %}
{% block content %}
    <div id="header" class="tab-pane section-admin header-admin">
        <section>
            <div class="tab-content">
                <div class="row">
                    <div class="col-xs-12 text-center">
                        <h3>Présentation</h3>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <div class="panel panel-theme">
                            <div class="panel-heading">Message d'alerte</div>
                            <div class="panel-body">
                                <form action="/admin/header/editAlert" class="form-horizontal" method="POST">
                                    <div class="col-xs-12 col-sm-2">
                                        <label for="activate">Activer</label>
                                        <input type="checkbox" id="activate"
                                               name="activated" {% if alert.activated == 1 %} checked {% endif %}
                                               class="form-check-input">
                                    </div>
                                    <div class="form-group col-xs-12 col-sm-8">
                                        <input id="alert" type="text" maxlength="100" name="alert" required
                                               class="form-control"
                                               value="{{ alert.alert }}" placeholder="Message d'urgence">
                                    </div>
                                    <div class="col-xs-12 col-sm-2">
                                        <button type="submit" value="Valider" class="btn btn-primary ">Valider</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                {# Partie slider #}
                <div class="row">
                    <div class="col-xs-12 text-center">
                        <h3>Images d'en-tête</h3>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="panel panel-theme">
                            <div class="panel-heading">Nouvelle Image</div>
                            <div class="panel-body">
                                <form action="/admin/header/addImage" method="POST" enctype="multipart/form-data">
                                    <div class="form-group">
                                        <label for="image">Image</label>
                                        <input type="file" id="image" name="picture">
                                    </div>
                                    <div class="form-group">
                                        <label for="alt">Description</label>
                                        <input id="alt" type="text" name="alt" class="form-control"
                                               placeholder="Description de l'image">
                                    </div>
                                    <div class="col-xs-12 col-sm-2">
                                        <button type="submit" value="Valider" class="btn btn-primary">Valider</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="panel panel-theme">
                            <div class="panel-heading">Liste d'images</div>
                            <div class="panel-body">
                                <table class="table table-striped table-hover">
                                    <thead>
                                    <tr>
                                        <th>Images</th>
                                        <th>Description</th>
                                        <th>Supprimer</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for image in slider %}
                                        <tr>
                                            <form action="/admin/header/deleteImage" method="POST">
                                                <td>
                                                    <input type="hidden" name="id" value="{{ image.id }}">
                                                    <input type="hidden" name="path" value="{{ image.picture }}">
                                                    <img src="/{{ image.picture }}" class="img-responsive">
                                                </td>
                                                <td class="description">
                                                    <p>{{ image.alt }}</p>
                                                </td>
                                                <td>
                                                    <input type="submit" value="Supprimer"
                                                           class="btn btn-danger form-control">
                                                </td>
                                            </form>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
{% endblock %}